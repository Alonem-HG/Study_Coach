"use strict";(self.webpackChunkstudy_coach=self.webpackChunkstudy_coach||[]).push([[8],{8:(e,s,t)=>{t.r(s),t.d(s,{TextToSpeechWeb:()=>h});var n=t(403);class h extends n.E_{constructor(){super(),this.speechSynthesis=null,"speechSynthesis"in window&&(this.speechSynthesis=window.speechSynthesis,window.addEventListener("beforeunload",()=>{this.stop()}))}async speak(e){this.speechSynthesis||this.throwUnsupportedError(),await this.stop();const s=this.speechSynthesis,t=this.createSpeechSynthesisUtterance(e);return new Promise((e,n)=>{t.onend=()=>{e()},t.onerror=e=>{n(e)},s.speak(t)})}async stop(){this.speechSynthesis||this.throwUnsupportedError(),this.speechSynthesis.cancel()}async getSupportedLanguages(){return{languages:this.getSpeechSynthesisVoices().map(e=>e.lang).filter((e,s,t)=>t.indexOf(e)==s)}}async getSupportedVoices(){return{voices:this.getSpeechSynthesisVoices()}}async isLanguageSupported(e){return{supported:(await this.getSupportedLanguages()).languages.includes(e.lang)}}async openInstall(){this.throwUnimplementedError()}createSpeechSynthesisUtterance(e){const s=this.getSpeechSynthesisVoices(),t=new SpeechSynthesisUtterance,{text:n,lang:h,rate:i,pitch:r,volume:o,voice:p}=e;return p&&(t.voice=s[p]),o&&(t.volume=o>=0&&o<=1?o:1),i&&(t.rate=i>=.1&&i<=10?i:1),r&&(t.pitch=r>=0&&r<=2?r:2),h&&(t.lang=h),t.text=n,t}getSpeechSynthesisVoices(){return this.speechSynthesis||this.throwUnsupportedError(),(!this.supportedVoices||this.supportedVoices.length<1)&&(this.supportedVoices=this.speechSynthesis.getVoices()),this.supportedVoices}throwUnsupportedError(){throw this.unavailable("SpeechSynthesis API not available in this browser.")}throwUnimplementedError(){throw this.unimplemented("Not implemented on web.")}}}}]);
//# sourceMappingURL=8.23078930.chunk.js.map